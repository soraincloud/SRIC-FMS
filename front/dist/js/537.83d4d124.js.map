{"version":3,"file":"js/537.83d4d124.js","mappings":"+NAGA,MAAMA,EAAa,CAAEC,MAAO,yBACtBC,EAAa,CAAED,MAAO,4BACtBE,EAAa,CAAEF,MAAO,iCACtBG,EAAa,CAAEH,MAAO,4BACtBI,EAAa,CAAEJ,MAAO,6BAU5B,OAA4BK,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,cACRC,KAAAA,CAAMC,GCGR,MAAM,EAAEC,GAAMC,EAAAA,EAAKC,OAEbC,GAAYC,EAAAA,EAAAA,IAAIC,EAAAA,EAAMC,SAASC,QAAU,yBACzCC,GAAWJ,EAAAA,EAAAA,IAAI,QACfK,GAAUL,EAAAA,EAAAA,IAAI,KACdM,GAAON,EAAAA,EAAAA,IAAI,aAEXO,EAAmBC,UAEvB,MAAMC,QAAaC,EAAAA,EAAAA,IAAe,CAAEC,KAAMC,aAAaC,QAAQ,UAC/DT,EAASU,MAAQL,EAAKM,KAAKX,SAC3BC,EAAQS,MAAQL,EAAKM,KAAKC,IAC1BjB,EAAUe,MAAQb,EAAAA,EAAMC,SAASC,QAAU,eAAiBM,EAAKM,KAAKE,OACtEX,EAAKQ,MAAQL,EAAKM,KAAKT,KACE,KAAtBG,EAAKM,KAAKG,YAEXC,EAAAA,EAAAA,IAAe,CACbC,MAAOxB,EAAE,iBACTyB,SAASC,EAAAA,EAAAA,GAAE,IAAK,CAAEC,MAAO,eAAiB3B,EAAE,wBAG9CgB,aAAaY,QAAQ,WAAW,SAChCZ,aAAaa,WAAW,SACxBb,aAAaa,WAAW,QACxBb,aAAaa,WAAW,O,EDK5B,OCDAlB,IDCO,CAACmB,EAAUC,KAChB,MAAMC,GAAuBC,EAAAA,EAAAA,IAAkB,aACzCC,GAAwBD,EAAAA,EAAAA,IAAkB,cAEhD,OAAQE,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoBC,EAAAA,GAAW,KAAM,EACzDC,EAAAA,EAAAA,IAAoB,MAAOhD,EAAY,EACrCiD,EAAAA,EAAAA,IAAaP,EAAsB,CACjCQ,IAAKrC,EAAUe,MACfuB,KAAM,KACL,KAAM,EAAG,CAAC,SACbH,EAAAA,EAAAA,IAAoB,MAAO9C,EAAY,EACrC8C,EAAAA,EAAAA,IAAoB,OAAQ7C,GAAYiD,EAAAA,EAAAA,IAAiBlC,EAASU,OAAQ,IAC1EoB,EAAAA,EAAAA,IAAoB,OAAQ5C,EAAY,UAAWgD,EAAAA,EAAAA,IAAiBjC,EAAQS,OAAQ,QAGxFoB,EAAAA,EAAAA,IAAoB,MAAO3C,EAAY,EACrC2C,EAAAA,EAAAA,IAAoB,OAAQ,MAAMI,EAAAA,EAAAA,IAAiBhC,EAAKQ,OAAQ,MAElEqB,EAAAA,EAAAA,IAAaL,IACZ,GAAG,CAER,IEnEA,MAAMS,EAAc,EAEpB,O","sources":["webpack://front/./src/views/user/UserProfile.vue?3803","webpack://front/./src/views/user/UserProfile.vue","webpack://front/./src/views/user/UserProfile.vue?d130"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"user-profile-body-div\" }\nconst _hoisted_2 = { class: \"user-profile-details-div\" }\nconst _hoisted_3 = { class: \"user-profile-details-username\" }\nconst _hoisted_4 = { class: \"user-profile-details-uid\" }\nconst _hoisted_5 = { class: \"user-profile-details-mark\" }\n\nimport axios from 'axios';\r\nimport { ref } from 'vue'\r\nimport { getUserMessage } from '@/axios/api/user'\r\nimport { ElNotification } from 'element-plus'\r\nimport { h } from 'vue'\r\nimport i18n from '@/language';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'UserProfile',\n  setup(__props) {\n\r\nconst { t } = i18n.global\r\n\r\nconst avatarUrl = ref(axios.defaults.baseURL + \"/userAvatar/NULL.webp\") //头像URL\r\nconst username = ref(\"NULL\") //用户名显示\r\nconst userUid = ref(\"0\") //用户UID\r\nconst mark = ref(\"NULL MARK\") //\r\n\r\nconst checkUserMessage = async () => //更新用户信息(用户名，头像)\r\n{\r\n  const resp = await getUserMessage({ uuid: localStorage.getItem(\"uuid\") })\r\n  username.value = resp.data.username\r\n  userUid.value = resp.data.uid\r\n  avatarUrl.value = axios.defaults.baseURL + \"/userAvatar/\" + resp.data.avatar\r\n  mark.value = resp.data.mark\r\n  if(resp.data.signCode == 500) //token过期\r\n  {\r\n    ElNotification({\r\n      title: t(\"common.noties\"),\r\n      message: h('i', { style: 'color: teal' }, t(\"sign.tokenTimeOut\")),\r\n      \r\n    })\r\n    localStorage.setItem(\"isSignIn\",\"false\")\r\n    localStorage.removeItem(\"token\")\r\n    localStorage.removeItem(\"uuid\")\r\n    localStorage.removeItem(\"uid\")\r\n  }\r\n}\r\n\r\ncheckUserMessage()\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_avatar = _resolveComponent(\"el-avatar\")!\n  const _component_el_divider = _resolveComponent(\"el-divider\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createVNode(_component_el_avatar, {\n        src: avatarUrl.value,\n        size: 100\n      }, null, 8, [\"src\"]),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"span\", _hoisted_3, _toDisplayString(username.value), 1),\n        _createElementVNode(\"span\", _hoisted_4, \"UID : \" + _toDisplayString(userUid.value), 1)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createElementVNode(\"span\", null, _toDisplayString(mark.value), 1)\n    ]),\n    _createVNode(_component_el_divider)\n  ], 64))\n}\n}\n\n})","<template>\r\n    <div class=\"user-profile-body-div\">\r\n        <el-avatar :src=\"avatarUrl\" :size=\"100\"></el-avatar>\r\n        <div class=\"user-profile-details-div\">\r\n            <span class=\"user-profile-details-username\">{{ username }}</span>\r\n            <span class=\"user-profile-details-uid\">UID : {{ userUid }}</span>\r\n        </div>\r\n    </div>\r\n    <div class=\"user-profile-details-mark\">\r\n        <span>{{ mark }}</span>\r\n    </div>\r\n    <el-divider></el-divider>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport axios from 'axios';\r\nimport { ref } from 'vue'\r\nimport { getUserMessage } from '@/axios/api/user'\r\nimport { ElNotification } from 'element-plus'\r\nimport { h } from 'vue'\r\nimport i18n from '@/language';\r\n\r\nconst { t } = i18n.global\r\n\r\nconst avatarUrl = ref(axios.defaults.baseURL + \"/userAvatar/NULL.webp\") //头像URL\r\nconst username = ref(\"NULL\") //用户名显示\r\nconst userUid = ref(\"0\") //用户UID\r\nconst mark = ref(\"NULL MARK\") //\r\n\r\nconst checkUserMessage = async () => //更新用户信息(用户名，头像)\r\n{\r\n  const resp = await getUserMessage({ uuid: localStorage.getItem(\"uuid\") })\r\n  username.value = resp.data.username\r\n  userUid.value = resp.data.uid\r\n  avatarUrl.value = axios.defaults.baseURL + \"/userAvatar/\" + resp.data.avatar\r\n  mark.value = resp.data.mark\r\n  if(resp.data.signCode == 500) //token过期\r\n  {\r\n    ElNotification({\r\n      title: t(\"common.noties\"),\r\n      message: h('i', { style: 'color: teal' }, t(\"sign.tokenTimeOut\")),\r\n      \r\n    })\r\n    localStorage.setItem(\"isSignIn\",\"false\")\r\n    localStorage.removeItem(\"token\")\r\n    localStorage.removeItem(\"uuid\")\r\n    localStorage.removeItem(\"uid\")\r\n  }\r\n}\r\n\r\ncheckUserMessage()\r\n</script>\r\n\r\n<style>\r\n@import '@/css/common.css';\r\n\r\n.user-profile-body-div\r\n{\r\n    display: flex;\r\n    align-items: flex-end;\r\n    margin-left: 20px;\r\n}\r\n\r\n.user-profile-details-div\r\n{\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 20px; /* 调整此值以控制文本与头像之间的距离 */\r\n}\r\n\r\n.user-profile-details-username\r\n{\r\n    font-weight: bold;\r\n    font-size: 30px;\r\n}\r\n\r\n.user-profile-details-uid\r\n{\r\n    font-weight: bold;\r\n}\r\n\r\n.user-profile-details-mark\r\n{\r\n    margin-top: 20px;\r\n    margin-left: 10px;\r\n}\r\n</style>\r\n","import script from \"./UserProfile.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./UserProfile.vue?vue&type=style&index=0&id=1afd4d60&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_defineComponent","__name","setup","__props","t","i18n","global","avatarUrl","ref","axios","defaults","baseURL","username","userUid","mark","checkUserMessage","async","resp","getUserMessage","uuid","localStorage","getItem","value","data","uid","avatar","signCode","ElNotification","title","message","h","style","setItem","removeItem","_ctx","_cache","_component_el_avatar","_resolveComponent","_component_el_divider","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_createVNode","src","size","_toDisplayString","__exports__"],"sourceRoot":""}